import{n as g,o as h,p as R,E as m,G as L,H as x,I as D,J as F,K as y,L as O,w as A,M as q,U as C,N as H,O as M,P,z as U,Q as Y,R as w,e as z,S as B,T as G}from"./B2Glw-ra.js";function K(e,f,l=!1){h&&R();var i=e,s=null,a=null,r=C,N=l?m:0,d=!1;const S=(c,t=!0)=>{d=!0,v(t,c)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var c=r?s:a,t=r?a:s;c&&M(c),t&&P(t,()=>{r?a=null:s=null})}const v=(c,t)=>{if(r===(r=c))return;let T=!1;if(h){const b=L(i)===x;!!r===b&&(i=D(),F(i),y(!1),T=!0)}var p=H(),u=i;if(p&&(n=document.createDocumentFragment(),n.append(u=O())),r?s??(s=t&&A(()=>t(u))):a??(a=t&&A(()=>t(u))),p){var _=q,E=r?s:a,k=r?a:s;E&&_.skipped_effects.delete(E),k&&_.skipped_effects.add(k),_.add_callback(o)}else o();T&&y(!0)};g(()=>{d=!1,f(S),d||v(null,null)},N),h&&(i=U)}function I(e,f){return e===f||(e==null?void 0:e[G])===f}function Q(e={},f,l,i){return Y(()=>{var s,a;return w(()=>{s=a,a=[],z(()=>{e!==l(...a)&&(f(e,...a),s&&I(l(...s),e)&&f(null,...s))})}),()=>{B(()=>{a&&I(l(...a),e)&&f(null,...a)})}}),e}export{Q as b,K as i};
